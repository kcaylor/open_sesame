[project]
name = "open_sesame"
version = "0.1.0"
description = "Few-shot LLM-based classification of data and code openness in scholarly publications"
channels = ["conda-forge", "pytorch"]
platforms = ["linux-64", "osx-arm64", "osx-64", "win-64"]

[dependencies]
# Core Python
python = ">=3.10,<3.13"
pip = ">=23.0"

# Data handling
numpy = ">=1.24"
pandas = ">=2.0"

# Machine learning and NLP
scikit-learn = ">=1.3"
sentence-transformers = ">=2.2"

# Visualization
matplotlib = ">=3.7"
seaborn = ">=0.12"

# Development environment
jupyterlab = ">=4.0"
ipywidgets = ">=8.0"

# Configuration and validation
pydantic = ">=2.0"
python-dotenv = ">=1.0"

# nbdev for literate programming
nbdev = ">=2.3"

[feature.llm.dependencies]
# LLM providers (installed via pip for latest versions)

[feature.llm.pypi-dependencies]
litellm = ">=1.0"
anthropic = ">=0.18"
openai = ">=1.0"

[feature.test.dependencies]
pytest = ">=7.0"
pytest-cov = ">=4.0"

[environments]
default = { features = ["llm"], solve-group = "default" }
test = { features = ["llm", "test"], solve-group = "default" }

[tasks]
# nbdev workflow tasks
export = "nbdev_export"
test = "nbdev_test"
preview = "nbdev_preview"
docs = "nbdev_docs"
clean = "nbdev_clean"

# Development tasks
lab = "jupyter lab --no-browser"
check = "python -c \"from openness_classifier import __version__; print(f'openness_classifier v{__version__} OK')\""

# Classification tasks
classify = "python -m openness_classifier"
